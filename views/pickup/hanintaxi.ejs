<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>괌한인택시 - 요금 조회</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      overflow: hidden;
    }
    
    .header {
      background: linear-gradient(135deg, #FFA500 0%, #FF6B35 100%);
      color: white;
      padding: 30px 20px;
      text-align: center;
    }
    
    .header h1 {
      font-size: 28px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .header p {
      font-size: 14px;
      opacity: 0.9;
    }
    
    .content {
      padding: 30px 20px;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      color: #333;
      font-size: 14px;
    }
    
    .form-group select,
    .form-group input {
      width: 100%;
      padding: 12px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 16px;
      transition: all 0.3s;
      background: white;
    }
    
    .form-group select:focus,
    .form-group input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 15px;
    }
    
    .control-row {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .control-row > * {
      flex: 1;
      min-width: 150px;
    }
    
    .checkbox-group {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 15px;
      background: #f8f9fa;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .checkbox-group:hover {
      background: #e9ecef;
    }
    
    .checkbox-group input[type="checkbox"] {
      width: 20px;
      height: 20px;
      cursor: pointer;
    }
    
    .checkbox-group label {
      margin: 0;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
    }
    
    .swap-btn {
      padding: 12px 20px;
      background: #f0f0f0;
      border: 2px dashed #ccc;
      border-radius: 10px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      color: #666;
      transition: all 0.3s;
      white-space: nowrap;
    }
    
    .swap-btn:hover {
      background: #667eea;
      border-color: #667eea;
      color: white;
    }
    
    .passenger-select {
      padding: 12px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 14px;
      background: white;
      cursor: pointer;
    }
    
    .result-box {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 25px;
      border-radius: 15px;
      margin-top: 20px;
      display: none;
    }
    
    .result-box.show {
      display: block;
      animation: slideIn 0.3s ease-out;
    }
    
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .result-box h3 {
      font-size: 18px;
      margin-bottom: 15px;
      text-align: center;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }
    
    .result-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      font-size: 15px;
    }
    
    .result-item.total {
      border-top: 2px solid rgba(255,255,255,0.3);
      margin-top: 10px;
      padding-top: 15px;
      font-size: 20px;
      font-weight: bold;
    }
    
    .notice-box {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      font-size: 13px;
      color: #856404;
    }
    
    .notice-box strong {
      display: block;
      margin-bottom: 8px;
      font-size: 14px;
    }
    
    .notice-box ul {
      margin: 10px 0;
      padding-left: 20px;
    }
    
    .notice-box li {
      margin: 5px 0;
    }
    
    .booking-box {
      background: #d4edda;
      border-left: 4px solid #28a745;
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px;
      text-align: center;
    }
    
    .booking-box h4 {
      color: #155724;
      margin-bottom: 15px;
      font-size: 16px;
    }
    
    .kakao-btn {
      display: inline-block;
      background: #FEE500;
      color: #000;
      padding: 15px 30px;
      border-radius: 10px;
      text-decoration: none;
      font-weight: bold;
      font-size: 16px;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .kakao-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.15);
    }
    
    .payment-info {
      margin-top: 15px;
      font-size: 13px;
      color: #155724;
    }
    
    .roundtrip-notice {
      background: #f8d7da;
      border-left: 4px solid #dc3545;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      font-size: 13px;
      color: #721c24;
      display: none;
    }
    
    .roundtrip-notice.show {
      display: block;
    }
    
    @media (max-width: 640px) {
      .header h1 {
        font-size: 24px;
      }
      
      .content {
        padding: 20px 15px;
      }
      
      .form-row {
        grid-template-columns: 1fr;
      }
      
      .control-row {
        flex-direction: column;
      }
      
      .control-row > * {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>🚕 괌한인택시</h1>
      <p>괌 시내 이동 요금 조회</p>
    </div>
    
    <div class="content">
      <div class="form-row">
        <div class="form-group">
          <label>🏨 출발지 (호텔)</label>
          <select id="origin" onchange="calculateFare()">
            <option value="">출발 호텔을 선택하세요</option>
            <option value="니꼬">니꼬</option>
            <option value="츠바키">츠바키</option>
            <option value="롯데">롯데</option>
            <option value="웨스틴">웨스틴</option>
            <option value="오션뷰">오션뷰</option>
            <option value="베이뷰">베이뷰</option>
            <option value="리프">리프</option>
            <option value="괌프라자">괌프라자</option>
            <option value="두짓타니">두짓타니</option>
            <option value="두짓비치">두짓비치</option>
            <option value="하얏트">하얏트</option>
            <option value="홀리데이">홀리데이</option>
            <option value="그랜드플라자">그랜드플라자</option>
            <option value="타노">타노</option>
            <option value="크라운">크라운</option>
            <option value="PIC">PIC</option>
            <option value="힐튼">힐튼</option>
            <option value="원더가든">원더가든</option>
            <option value="데이즈인">데이즈인</option>
            <option value="리가로얄">리가로얄</option>
            <option value="호시노">호시노</option>
            <option value="알루팡비치타워">알루팡비치타워</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>📍 목적지</label>
          <select id="destination" onchange="calculateFare()">
            <option value="">목적지를 선택하세요</option>
            <option value="K마트">K마트</option>
            <option value="GPO">GPO</option>
            <option value="돈키">돈키</option>
            <option value="마이크로네시아몰">마이크로네시아몰</option>
            <option value="T갤러리아">T갤러리아</option>
            <option value="차모로 야시장">차모로 야시장 (왕복만)</option>
            <option value="사랑의절벽">사랑의절벽 (왕복만)</option>
          </select>
        </div>
      </div>
      
      <div class="control-row">
        <button class="swap-btn" onclick="swapLocations()">🔄 출발지↔목적지 바꾸기</button>
        
        <div class="checkbox-group">
          <input type="checkbox" id="isRoundtrip" onchange="calculateFare()">
          <label for="isRoundtrip">↩️ 왕복 요금</label>
        </div>
        
        <select id="passengers" class="passenger-select" onchange="calculateFare()">
          <option value="4">👥 4명 (기본)</option>
          <option value="5">👥 5명</option>
          <option value="6">👥 6명</option>
        </select>
      </div>
      
      <div class="result-box" id="resultBox">
        <h3>💰 요금 안내</h3>
        <div class="result-item">
          <span>기본 요금 (4인)</span>
          <span id="baseFare">$0</span>
        </div>
        <div class="result-item">
          <span>추가 인원 요금</span>
          <span id="extraFare">$0</span>
        </div>
        <div class="result-item total">
          <span>총 요금</span>
          <span id="totalFare">$0</span>
        </div>
      </div>
      
      <div class="roundtrip-notice" id="roundtripNotice">
        <strong>⚠️ 왕복 예약 전용 지역</strong>
        <p>차모로야시장, 사랑의절벽은 왕복 예약만 가능합니다.<br>표시된 요금은 왕복 기준입니다.</p>
      </div>
      
      <div class="notice-box">
        <strong>📌 요금 안내</strong>
        <ul>
          <li>기본 요금은 4인 기준입니다.</li>
          <li>시내 이동: 5~6인 시 1인당 +$2</li>
          <li>차모로야시장, 사랑의절벽: 왕복 예약만 가능 (5~6인 시 1인당 +$5)</li>
          <li>최대 탑승 인원: 6명</li>
          <li><strong>6인 이상은 카카오톡으로 문의해 주세요</strong></li>
          <li>🚐 15인승 차량 배차 가능합니다</li>
        </ul>
      </div>
      
      <div class="booking-box">
        <h4>🚕 택시 호출하기</h4>
        <p style="font-size: 15px; color: #155724; margin-bottom: 15px;">
          리얼괌 카카오채널에서 카톡으로 신청해주세요.
        </p>
        <div class="payment-info">
          <strong>💵 결제 방법</strong><br>
          탑승 시 현금 지불 또는 원화 계좌이체 가능
        </div>
      </div>
      
    </div>
  </div>
  
  <script>
    // 요금표 데이터 (엑셀 기준 - 세로: 출발지(호텔), 가로: 목적지)
    const fareData = {
      '니꼬': { 'K마트': 12, 'GPO': 17, '돈키': 15, '마이크로네시아몰': 12, 'T갤러리아': 10, '차모로 야시장': 45, '사랑의절벽': 45 },
      '츠바키': { 'K마트': 12, 'GPO': 17, '돈키': 15, '마이크로네시아몰': 12, 'T갤러리아': 10, '차모로 야시장': 45, '사랑의절벽': 45 },
      '롯데': { 'K마트': 12, 'GPO': 17, '돈키': 15, '마이크로네시아몰': 12, 'T갤러리아': 8, '차모로 야시장': 45, '사랑의절벽': 45 },
      '웨스틴': { 'K마트': 12, 'GPO': 17, '돈키': 15, '마이크로네시아몰': 12, 'T갤러리아': 8, '차모로 야시장': 45, '사랑의절벽': 45 },
      '오션뷰': { 'K마트': 12, 'GPO': 15, '돈키': 14, '마이크로네시아몰': 12, 'T갤러리아': 8, '차모로 야시장': 40, '사랑의절벽': 45 },
      '베이뷰': { 'K마트': 12, 'GPO': 15, '돈키': 14, '마이크로네시아몰': 12, 'T갤러리아': 8, '차모로 야시장': 40, '사랑의절벽': 45 },
      '리프': { 'K마트': 12, 'GPO': 15, '돈키': 14, '마이크로네시아몰': 12, 'T갤러리아': 8, '차모로 야시장': 40, '사랑의절벽': 45 },
      '괌프라자': { 'K마트': 12, 'GPO': 15, '돈키': 14, '마이크로네시아몰': 12, 'T갤러리아': 8, '차모로 야시장': 40, '사랑의절벽': 45 },
      '두짓타니': { 'K마트': 12, 'GPO': 15, '돈키': 14, '마이크로네시아몰': 12, 'T갤러리아': 8, '차모로 야시장': 40, '사랑의절벽': 45 },
      '두짓비치': { 'K마트': 12, 'GPO': 15, '돈키': 14, '마이크로네시아몰': 12, 'T갤러리아': 8, '차모로 야시장': 40, '사랑의절벽': 45 },
      '하얏트': { 'K마트': 12, 'GPO': 15, '돈키': 14, '마이크로네시아몰': 12, 'T갤러리아': 8, '차모로 야시장': 40, '사랑의절벽': 45 },
      '홀리데이': { 'K마트': 10, 'GPO': 13, '돈키': 12, '마이크로네시아몰': 13, 'T갤러리아': 10, '차모로 야시장': 40, '사랑의절벽': 50 },
      '그랜드플라자': { 'K마트': 10, 'GPO': 13, '돈키': 12, '마이크로네시아몰': 13, 'T갤러리아': 10, '차모로 야시장': 40, '사랑의절벽': 50 },
      '타노': { 'K마트': 10, 'GPO': 13, '돈키': 12, '마이크로네시아몰': 13, 'T갤러리아': 10, '차모로 야시장': 40, '사랑의절벽': 50 },
      '크라운': { 'K마트': 10, 'GPO': 13, '돈키': 12, '마이크로네시아몰': 13, 'T갤러리아': 10, '차모로 야시장': 40, '사랑의절벽': 50 },
      'PIC': { 'K마트': 8, 'GPO': 12, '돈키': 12, '마이크로네시아몰': 14, 'T갤러리아': 12, '차모로 야시장': 40, '사랑의절벽': 50 },
      '힐튼': { 'K마트': 10, 'GPO': 12, '돈키': 10, '마이크로네시아몰': 14, 'T갤러리아': 12, '차모로 야시장': 40, '사랑의절벽': 50 },
      '원더가든': { 'K마트': 10, 'GPO': 12, '돈키': 10, '마이크로네시아몰': 14, 'T갤러리아': 12, '차모로 야시장': 40, '사랑의절벽': 50 },
      '데이즈인': { 'K마트': 10, 'GPO': 12, '돈키': 10, '마이크로네시아몰': 14, 'T갤러리아': 12, '차모로 야시장': 40, '사랑의절벽': 50 },
      '리가로얄': { 'K마트': 14, 'GPO': 12, '돈키': 13, '마이크로네시아몰': 18, 'T갤러리아': 15, '차모로 야시장': 35, '사랑의절벽': 55 },
      '호시노': { 'K마트': 14, 'GPO': 12, '돈키': 13, '마이크로네시아몰': 18, 'T갤러리아': 15, '차모로 야시장': 35, '사랑의절벽': 55 },
      '알루팡비치타워': { 'K마트': 15, 'GPO': 13, '돈키': 14, '마이크로네시아몰': 20, 'T갤러리아': 17, '차모로 야시장': 30, '사랑의절벽': 55 }
    };
    
    // 왕복 전용 지역 (차모로야시장, 사랑의절벽)
    const roundtripOnlyLocations = ['차모로 야시장', '사랑의절벽'];
    
    function toggleRoundtrip() {
      const checkbox = document.getElementById('isRoundtrip');
      checkbox.checked = !checkbox.checked;
      calculateFare();
    }
    
    let isSwapped = false;
    
    function swapLocations() {
      const originSelect = document.getElementById('origin');
      const destinationSelect = document.getElementById('destination');
      
      // 현재 선택된 값 저장
      const originValue = originSelect.value;
      const destinationValue = destinationSelect.value;
      
      // 옵션 리스트 통째로 교환
      const tempHTML = originSelect.innerHTML;
      originSelect.innerHTML = destinationSelect.innerHTML;
      destinationSelect.innerHTML = tempHTML;
      
      // 라벨도 교환
      const labels = document.querySelectorAll('.form-group label');
      if (isSwapped) {
        labels[0].innerHTML = '🏨 출발지 (호텔)';
        labels[1].innerHTML = '📍 목적지';
      } else {
        labels[0].innerHTML = '📍 출발지';
        labels[1].innerHTML = '🏨 목적지 (호텔)';
      }
      
      isSwapped = !isSwapped;
      
      // 이전 선택값 복원 시도
      originSelect.value = destinationValue || '';
      destinationSelect.value = originValue || '';
      
      calculateFare();
    }
    
    function calculateFare() {
      const origin = document.getElementById('origin').value;
      const destination = document.getElementById('destination').value;
      const passengers = parseInt(document.getElementById('passengers').value);
      const isRoundtrip = document.getElementById('isRoundtrip').checked;
      
      if (!origin || !destination) {
        document.getElementById('resultBox').classList.remove('show');
        document.getElementById('roundtripNotice').classList.remove('show');
        return;
      }
      
      if (origin === destination) {
        alert('출발지와 목적지가 같습니다. 다른 목적지를 선택해주세요.');
        document.getElementById('resultBox').classList.remove('show');
        document.getElementById('roundtripNotice').classList.remove('show');
        return;
      }
      
      // 기본 요금 조회 (양방향)
      let baseFare = fareData[origin]?.[destination] || fareData[destination]?.[origin] || 0;
      
      // 왕복 전용 지역 체크
      const isRoundtripOnly = roundtripOnlyLocations.includes(origin) || roundtripOnlyLocations.includes(destination);
      
      // 왕복 전용 지역이면 체크박스 자동 체크 및 비활성화
      if (isRoundtripOnly) {
        document.getElementById('isRoundtrip').checked = true;
        document.getElementById('isRoundtrip').disabled = true;
        document.getElementById('roundtripNotice').classList.add('show');
      } else {
        document.getElementById('isRoundtrip').disabled = false;
        document.getElementById('roundtripNotice').classList.remove('show');
      }
      
      // 왕복 요금 계산
      // 차모로 야시장/사랑의절벽은 요금표 금액이 이미 왕복 기준
      if (!isRoundtripOnly && document.getElementById('isRoundtrip').checked) {
        baseFare = baseFare * 2;
      }
      
      // 추가 인원 요금 계산
      let extraPassengers = passengers - 4;
      let extraFare = 0;
      
      if (extraPassengers > 0) {
        if (isRoundtripOnly || isRoundtrip) {
          // 왕복: 1인당 $5
          extraFare = extraPassengers * 5;
        } else {
          // 편도: 1인당 $2
          extraFare = extraPassengers * 2;
        }
      }
      
      const totalFare = baseFare + extraFare;
      
      // 결과 표시
      const fareLabel = (isRoundtrip || isRoundtripOnly) ? '기본 요금 (4인 왕복)' : '기본 요금 (4인 편도)';
      document.getElementById('baseFare').textContent = '$' + baseFare;
      document.getElementById('extraFare').textContent = '$' + extraFare;
      document.getElementById('totalFare').textContent = '$' + totalFare;
      document.getElementById('resultBox').classList.add('show');
      
      // 요금 라벨 업데이트
      document.querySelector('.result-item:first-child span:first-child').textContent = fareLabel;
    }
  </script>
</body>
</html>
